\RequirePackage[breakable]{tcolorbox}

\definecolor{light-gray}{gray}{0.99}
% box for questions
\newenvironment{qbox}{
  \begin{tcolorbox}[breakable,colback=light-gray,arc=0pt,outer arc=0pt,boxrule=0.5pt]
  \begin{q}
  }{
  \end{q}
  \end{tcolorbox}
  }

\newenvironment{mdframed}{
  \begin{tcolorbox}[breakable,colback=white,arc=0pt,outer arc=0pt,boxrule=0.5pt]
  }{
  \end{tcolorbox}
  }

% adding hints that are upside down
\RequirePackage{tablefootnote} %adds the hint at the end of page instead of minipage
\AfterEndEnvironment{tcolorbox}{
 \tfn@tablefootnoteprintout %buffer that collects all the bookmarks
 \gdef\tfn@fnt{0}
}
\newcommand{\hint}[1]{
  \tablefootnote{\raggedleft\rotatebox{180}{{\bf Hint}: #1\hfill}}
  }
\newcommand{\texthint}[1]{
  \footnote{\raggedleft\rotatebox{180}{{\bf Hint}: #1\hfill}}
  }
\RequirePackage{perpage}
\MakePerPage{footnote}
